// Code generated by private/model/cli/gen-api/main.go. DO NOT EDIT.

package glacier

import (
	"context"

	"github.com/aws/aws-sdk-go-v2/aws"
	"github.com/aws/aws-sdk-go-v2/service/glacier/types"
)

const opGetVaultLock = "GetVaultLock"

// GetVaultLockRequest returns a request value for making API operation for
// Amazon Glacier.
//
// This operation retrieves the following attributes from the lock-policy subresource
// set on the specified vault:
//
//    * The vault lock policy set on the vault.
//
//    * The state of the vault lock, which is either InProgess or Locked.
//
//    * When the lock ID expires. The lock ID is used to complete the vault
//    locking process.
//
//    * When the vault lock was initiated and put into the InProgress state.
//
// A vault lock is put into the InProgress state by calling InitiateVaultLock.
// A vault lock is put into the Locked state by calling CompleteVaultLock. You
// can abort the vault locking process by calling AbortVaultLock. For more information
// about the vault locking process, Amazon Glacier Vault Lock (https://docs.aws.amazon.com/amazonglacier/latest/dev/vault-lock.html).
//
// If there is no vault lock policy set on the vault, the operation returns
// a 404 Not found error. For more information about vault lock policies, Amazon
// Glacier Access Control with Vault Lock Policies (https://docs.aws.amazon.com/amazonglacier/latest/dev/vault-lock-policy.html).
//
//    // Example sending a request using GetVaultLockRequest.
//    req := client.GetVaultLockRequest(params)
//    resp, err := req.Send(context.TODO())
//    if err == nil {
//        fmt.Println(resp)
//    }
func (c *Client) GetVaultLockRequest(input *types.GetVaultLockInput) GetVaultLockRequest {
	op := &aws.Operation{
		Name:       opGetVaultLock,
		HTTPMethod: "GET",
		HTTPPath:   "/{accountId}/vaults/{vaultName}/lock-policy",
	}

	if input == nil {
		input = &types.GetVaultLockInput{}
	}

	req := c.newRequest(op, input, &types.GetVaultLockOutput{})
	return GetVaultLockRequest{Request: req, Input: input, Copy: c.GetVaultLockRequest}
}

// GetVaultLockRequest is the request type for the
// GetVaultLock API operation.
type GetVaultLockRequest struct {
	*aws.Request
	Input *types.GetVaultLockInput
	Copy  func(*types.GetVaultLockInput) GetVaultLockRequest
}

// Send marshals and sends the GetVaultLock API request.
func (r GetVaultLockRequest) Send(ctx context.Context) (*GetVaultLockResponse, error) {
	r.Request.SetContext(ctx)
	err := r.Request.Send()
	if err != nil {
		return nil, err
	}

	resp := &GetVaultLockResponse{
		GetVaultLockOutput: r.Request.Data.(*types.GetVaultLockOutput),
		response:           &aws.Response{Request: r.Request},
	}

	return resp, nil
}

// GetVaultLockResponse is the response type for the
// GetVaultLock API operation.
type GetVaultLockResponse struct {
	*types.GetVaultLockOutput

	response *aws.Response
}

// SDKResponseMetdata returns the response metadata for the
// GetVaultLock request.
func (r *GetVaultLockResponse) SDKResponseMetdata() *aws.Response {
	return r.response
}

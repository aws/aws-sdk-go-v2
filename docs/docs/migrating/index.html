<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.115.4">
<link rel="alternate" type="application/rss&#43;xml" href="https://aws.github.io/aws-sdk-go-v2/docs/migrating/index.xml">
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="/aws-sdk-go-v2/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/aws-sdk-go-v2/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/aws-sdk-go-v2/favicons/android-192x192.png" sizes="192x192">

<title>Migrating to the AWS SDK for Go V2 | AWS SDK for Go V2</title>
<meta name="description" content="How to migrate to the AWS SDK for Go V2 from AWS SDK for Go V1.">
<meta property="og:title" content="Migrating to the AWS SDK for Go V2" />
<meta property="og:description" content="How to migrate to the AWS SDK for Go V2 from AWS SDK for Go V1." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://aws.github.io/aws-sdk-go-v2/docs/migrating/" />
<meta itemprop="name" content="Migrating to the AWS SDK for Go V2">
<meta itemprop="description" content="How to migrate to the AWS SDK for Go V2 from AWS SDK for Go V1."><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Migrating to the AWS SDK for Go V2"/>
<meta name="twitter:description" content="How to migrate to the AWS SDK for Go V2 from AWS SDK for Go V1."/>




<link rel="preload" href="/aws-sdk-go-v2/scss/main.min.87610f09204d68e51368928a578a8f99ecd38bf9a2435e6664f3dd133ddcdf44.css" as="style">
<link href="/aws-sdk-go-v2/scss/main.min.87610f09204d68e51368928a578a8f99ecd38bf9a2435e6664f3dd133ddcdf44.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/aws-sdk-go-v2/">
		<span class="navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 304 182" style="enable-background:new 0 0 304 182"><style>.st0{fill:#fff}.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#f90}</style><g><path class="st0" d="M86.4 66.4c0 3.7.4 6.7 1.1 8.9.8 2.2 1.8 4.6 3.2 7.2.5.8.7 1.6.7 2.3.0 1-.6 2-1.9 3L83.2 92c-.9.6-1.8.9-2.6.9-1 0-2-.5-3-1.4C76.2 90 75 88.4 74 86.8c-1-1.7-2-3.6-3.1-5.9-7.8 9.2-17.6 13.8-29.4 13.8-8.4.0-15.1-2.4-20-7.2s-7.4-11.2-7.4-19.2c0-8.5 3-15.4 9.1-20.6s14.2-7.8 24.5-7.8c3.4.0 6.9.3 10.6.8s7.5 1.3 11.5 2.2v-7.3c0-7.6-1.6-12.9-4.7-16-3.2-3.1-8.6-4.6-16.3-4.6-3.5.0-7.1.4-10.8 1.3-3.7.9-7.3 2-10.8 3.4-1.6.7-2.8 1.1-3.5 1.3s-1.2.3-1.6.3c-1.4.0-2.1-1-2.1-3.1v-4.9c0-1.6.2-2.8.7-3.5.5-.7 1.4-1.4 2.8-2.1 3.5-1.8 7.7-3.3 12.6-4.5 4.9-1.3 10.1-1.9 15.6-1.9 11.9.0 20.6 2.7 26.2 8.1 5.5 5.4 8.3 13.6 8.3 24.6V66.4zM45.8 81.6c3.3.0 6.7-.6 10.3-1.8 3.6-1.2 6.8-3.4 9.5-6.4 1.6-1.9 2.8-4 3.4-6.4.6-2.4 1-5.3 1-8.7v-4.2c-2.9-.7-6-1.3-9.2-1.7-3.2-.4-6.3-.6-9.4-.6-6.7.0-11.6 1.3-14.9 4s-4.9 6.5-4.9 11.5c0 4.7 1.2 8.2 3.7 10.6C37.7 80.4 41.2 81.6 45.8 81.6zm80.3 10.8c-1.8.0-3-.3-3.8-1-.8-.6-1.5-2-2.1-3.9L96.7 10.2c-.6-2-.9-3.3-.9-4 0-1.6.8-2.5 2.4-2.5h9.8c1.9.0 3.2.3 3.9 1 .8.6 1.4 2 2 3.9l16.8 66.2 15.6-66.2c.5-2 1.1-3.3 1.9-3.9.8-.6 2.2-1 4-1h8c1.9.0 3.2.3 4 1 .8.6 1.5 2 1.9 3.9l15.8 67 17.3-67c.6-2 1.3-3.3 2-3.9.8-.6 2.1-1 3.9-1h9.3c1.6.0 2.5.8 2.5 2.5.0.5-.1 1-.2 1.6s-.3 1.4-.7 2.5l-24.1 77.3c-.6 2-1.3 3.3-2.1 3.9-.8.6-2.1 1-3.8 1h-8.6c-1.9.0-3.2-.3-4-1s-1.5-2-1.9-4L156 23l-15.4 64.4c-.5 2-1.1 3.3-1.9 4s-2.2 1-4 1H126.1zM254.6 95.1c-5.2.0-10.4-.6-15.4-1.8s-8.9-2.5-11.5-4c-1.6-.9-2.7-1.9-3.1-2.8-.4-.9-.6-1.9-.6-2.8v-5.1c0-2.1.8-3.1 2.3-3.1.6.0 1.2.1 1.8.3.6.2 1.5.6 2.5 1 3.4 1.5 7.1 2.7 11 3.5 4 .8 7.9 1.2 11.9 1.2 6.3.0 11.2-1.1 14.6-3.3s5.2-5.4 5.2-9.5c0-2.8-.9-5.1-2.7-7s-5.2-3.6-10.1-5.2L246 52c-7.3-2.3-12.7-5.7-16-10.2-3.3-4.4-5-9.3-5-14.5.0-4.2.9-7.9 2.7-11.1 1.8-3.2 4.2-6 7.2-8.2 3-2.3 6.4-4 10.4-5.2 4-1.2 8.2-1.7 12.6-1.7 2.2.0 4.5.1 6.7.4 2.3.3 4.4.7 6.5 1.1 2 .5 3.9 1 5.7 1.6 1.8.6 3.2 1.2 4.2 1.8 1.4.8 2.4 1.6 3 2.5.6.8.9 1.9.9 3.3v4.7c0 2.1-.8 3.2-2.3 3.2-.8.0-2.1-.4-3.8-1.2-5.7-2.6-12.1-3.9-19.2-3.9-5.7.0-10.2.9-13.3 2.8-3.1 1.9-4.7 4.8-4.7 8.9.0 2.8 1 5.2 3 7.1s5.7 3.8 11 5.5l14.2 4.5c7.2 2.3 12.4 5.5 15.5 9.6s4.6 8.8 4.6 14c0 4.3-.9 8.2-2.6 11.6-1.8 3.4-4.2 6.4-7.3 8.8-3.1 2.5-6.8 4.3-11.1 5.6C264.4 94.4 259.7 95.1 254.6 95.1z"/><g><path class="st1" d="M273.5 143.7c-32.9 24.3-80.7 37.2-121.8 37.2-57.6.0-109.5-21.3-148.7-56.7-3.1-2.8-.3-6.6 3.4-4.4 42.4 24.6 94.7 39.5 148.8 39.5 36.5.0 76.6-7.6 113.5-23.2C274.2 133.6 278.9 139.7 273.5 143.7z"/><path class="st1" d="M287.2 128.1c-4.2-5.4-27.8-2.6-38.5-1.3-3.2.4-3.7-2.4-.8-4.5 18.8-13.2 49.7-9.4 53.3-5 3.6 4.5-1 35.4-18.6 50.2-2.7 2.3-5.3 1.1-4.1-1.9C282.5 155.7 291.4 133.4 287.2 128.1z"/></g></g></svg></span><span class="font-weight-bold">AWS SDK for Go V2</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/aws-sdk-go-v2/docs/" ><span class="active">Developer Guide</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2" target="_blank" ><span>API Reference</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="https://github.com/aws/aws-sdk-go-v2" target="_blank" ><span>GitHub</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/aws-sdk-go-v2/offline-search-index.810a5299d837b395cdd69648bfec2e99.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="/aws-sdk-go-v2/offline-search-index.810a5299d837b395cdd69648bfec2e99.json"
  data-offline-search-base-href="/"
  data-offline-search-max-results="10"
>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-aws-sdk-go-v2docs-li">
  <a href="/aws-sdk-go-v2/docs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-aws-sdk-go-v2docs"><span class="">Developer Guide</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docsgetting-started-li">
  <a href="/aws-sdk-go-v2/docs/getting-started/" title="Getting Started with the AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsgetting-started"><span class="">Getting Started</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-aws-sdk-go-v2docsconfiguring-sdk-li">
  <a href="/aws-sdk-go-v2/docs/configuring-sdk/" title="Configuring the AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docsconfiguring-sdk"><span class="">Configuring the SDK</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docsconfiguring-sdkendpoints-li">
  <a href="/aws-sdk-go-v2/docs/configuring-sdk/endpoints/" title="Configuring Client Endpoints" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsconfiguring-sdkendpoints"><span class="">Endpoints</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docsconfiguring-sdkcustom-http-li">
  <a href="/aws-sdk-go-v2/docs/configuring-sdk/custom-http/" title="Customizing the HTTP Client" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsconfiguring-sdkcustom-http"><span class="">HTTP Client</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docsconfiguring-sdklogging-li">
  <a href="/aws-sdk-go-v2/docs/configuring-sdk/logging/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsconfiguring-sdklogging"><span class="">Logging</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docsconfiguring-sdkretries-timeouts-li">
  <a href="/aws-sdk-go-v2/docs/configuring-sdk/retries-timeouts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsconfiguring-sdkretries-timeouts"><span class="">Retries and Timeouts</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-aws-sdk-go-v2docsmigrating-li">
  <a href="/aws-sdk-go-v2/docs/migrating/" title="Migrating to the AWS SDK for Go V2" class="align-left pl-0 active td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docsmigrating"><span class="td-sidebar-nav-active-item">Migrating</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docsmaking-requests-li">
  <a href="/aws-sdk-go-v2/docs/making-requests/" title="Using the AWS SDK for Go V2 with AWS Services" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsmaking-requests"><span class="">Using AWS Services</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docshandling-errors-li">
  <a href="/aws-sdk-go-v2/docs/handling-errors/" title="Handling Errors in the AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docshandling-errors"><span class="">Handling Errors</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-aws-sdk-go-v2docssdk-utilities-li">
  <a href="/aws-sdk-go-v2/docs/sdk-utilities/" title="Using the AWS SDK for Go V2 Utilities" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docssdk-utilities"><span class="">SDK Utilities</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssdk-utilitiesrds-li">
  <a href="/aws-sdk-go-v2/docs/sdk-utilities/rds/" title="Amazon RDS Utilities" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssdk-utilitiesrds"><span class="">Amazon RDS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssdk-utilitiescloudfront-li">
  <a href="/aws-sdk-go-v2/docs/sdk-utilities/cloudfront/" title="Amazon CloudFront Utilities" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssdk-utilitiescloudfront"><span class="">Amazon CloudFront</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssdk-utilitiesec2-imds-li">
  <a href="/aws-sdk-go-v2/docs/sdk-utilities/ec2-imds/" title="Amazon EC2 Instance Metadata Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssdk-utilitiesec2-imds"><span class="">Amazon EC2 IMDS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssdk-utilitiess3-li">
  <a href="/aws-sdk-go-v2/docs/sdk-utilities/s3/" title="Amazon S3 Utilities" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssdk-utilitiess3"><span class="">Amazon S3</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docsmiddleware-li">
  <a href="/aws-sdk-go-v2/docs/middleware/" title="Customizing the AWS SDK for Go V2 Client Requests" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsmiddleware"><span class="">Middleware</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docsunit-testing-li">
  <a href="/aws-sdk-go-v2/docs/unit-testing/" title="Unit Testing with the AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docsunit-testing"><span class="">Testing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-aws-sdk-go-v2docscloud9-go-li">
  <a href="/aws-sdk-go-v2/docs/cloud9-go/" title="Using AWS Cloud9 with the AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docscloud9-go"><span class="">Using Cloud9 with the SDK</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-aws-sdk-go-v2docssecurity-li">
  <a href="/aws-sdk-go-v2/docs/security/" title="Security for this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docssecurity"><span class="">Security</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecuritycompliance-validation-li">
  <a href="/aws-sdk-go-v2/docs/security/compliance-validation/" title="Compliance Validation for this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecuritycompliance-validation"><span class="">Compliance Validation</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecurityiam-li">
  <a href="/aws-sdk-go-v2/docs/security/iam/" title="Identity and Access Management for this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecurityiam"><span class="">Identity and Access Management</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecurityinfrastructure-security-li">
  <a href="/aws-sdk-go-v2/docs/security/infrastructure-security/" title="Infrastructure Security for this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecurityinfrastructure-security"><span class="">Infrastructure Security</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecuritydisaster-recovery-resiliency-li">
  <a href="/aws-sdk-go-v2/docs/security/disaster-recovery-resiliency/" title="Resilience for this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecuritydisaster-recovery-resiliency"><span class="">Resilience</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecuritydata-protection-li">
  <a href="/aws-sdk-go-v2/docs/security/data-protection/" title="Data Protection in this AWS Product or Service" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecuritydata-protection"><span class="">Data Protection</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docssecuritytls-li">
  <a href="/aws-sdk-go-v2/docs/security/tls/" title="TLS Version in AWS SDK for Go V2" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-aws-sdk-go-v2docssecuritytls"><span class="">TLS Version</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-aws-sdk-go-v2docscode-examples-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examples"><span class="">Code Examples</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatch-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/" title="Amazon CloudWatch Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatch"><span class="">Amazon CloudWatch</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchcreatecustommetric-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/createcustommetric/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchcreatecustommetric"><span class="">CreateCustomMetricv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchcreateenablemetricalarm-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/createenablemetricalarm/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchcreateenablemetricalarm"><span class="">CreateEnableMetricAlarmv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchdescribealarms-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/describealarms/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchdescribealarms"><span class="">DescribeAlarmsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchdisablealarm-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/disablealarm/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchdisablealarm"><span class="">DisableAlarmv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchlistmetrics-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/listmetrics/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchlistmetrics"><span class="">ListMetricsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplescloudwatchputevent-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/cloudwatch/putevent/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplescloudwatchputevent"><span class="">PutEventv2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplesdynamodb-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/dynamodb/" title="Amazon DynamoDB Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesdynamodb"><span class="">Amazon DynamoDB</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesdynamodbdescribetable-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/dynamodb/describetable/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesdynamodbdescribetable"><span class="">DescribeTablev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesdynamodbscanitems-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/dynamodb/scanitems/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesdynamodbscanitems"><span class="">ScanItemsv2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/" title="Amazon EC2 Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2"><span class="">Amazon EC2</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2createimage-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/createimage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2createimage"><span class="">CreateImagev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2createinstance-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/createinstance/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2createinstance"><span class="">CreateInstancev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2describeinstances-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/describeinstances/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2describeinstances"><span class="">DescribeInstancesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2describevpcendpoints-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/describevpcendpoints/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2describevpcendpoints"><span class="">DescribeVpcEndpointsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2monitorinstances-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/monitorinstances/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2monitorinstances"><span class="">MonitorInstancesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2rebootinstances-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/rebootinstances/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2rebootinstances"><span class="">RebootInstancesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2startinstances-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/startinstances/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2startinstances"><span class="">StartInstancesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesec2stopinstances-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ec2/stopinstances/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesec2stopinstances"><span class="">StopInstancesv2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-exampless3-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/" title="Amazon S3 Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3"><span class="">Amazon S3</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3copyobject-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/copyobject/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3copyobject"><span class="">CopyObjectv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3createbucket-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/createbucket/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3createbucket"><span class="">CreateBucketv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3deletebucket-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/deletebucket/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3deletebucket"><span class="">DeleteBucketv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3deleteobject-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/deleteobject/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3deleteobject"><span class="">DeleteObjectv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3generatepresignedurl-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/generatepresignedurl/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3generatepresignedurl"><span class="">GeneratePresignedURLv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3getbucketacl-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/getbucketacl/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3getbucketacl"><span class="">GetBucketAclv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3getobjectacl-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/getobjectacl/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3getobjectacl"><span class="">GetObjectAclv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3listbuckets-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/listbuckets/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3listbuckets"><span class="">ListBucketsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3listobjects-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/listobjects/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3listobjects"><span class="">ListObjectsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampless3putobject-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/s3/putobject/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampless3putobject"><span class="">PutObjectv2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplessns-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/" title="Amazon SNS Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessns"><span class="">Amazon SNS</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessnscreatetopic-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/createtopic/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessnscreatetopic"><span class="">CreateTopicv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessnslistsubscriptions-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/listsubscriptions/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessnslistsubscriptions"><span class="">ListSubscriptionsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessnslisttopics-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/listtopics/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessnslisttopics"><span class="">ListTopicsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessnspublish-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/publish/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessnspublish"><span class="">Publishv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessnssubscribe-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sns/subscribe/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessnssubscribe"><span class="">Subscribev2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplessqs-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/" title="Amazon SQS Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqs"><span class="">Amazon SQS</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqschangemsgvisibility-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/changemsgvisibility/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqschangemsgvisibility"><span class="">ChangeMsgVisibilityv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsconfigurelpqueue-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/configurelpqueue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsconfigurelpqueue"><span class="">ConfigureLPQueuev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqscreatelpqueue-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/createlpqueue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqscreatelpqueue"><span class="">CreateLPQueuev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqscreatequeue-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/createqueue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqscreatequeue"><span class="">CreateQueuev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsdeadletterqueue-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/deadletterqueue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsdeadletterqueue"><span class="">DeadLetterQueuev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsdeletemessage-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/deletemessage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsdeletemessage"><span class="">DeleteMessagev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsdeletequeue-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/deletequeue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsdeletequeue"><span class="">DeleteQueuev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsgetqueueurl-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/getqueueurl/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsgetqueueurl"><span class="">GetQueueURLv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqslistqueues-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/listqueues/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqslistqueues"><span class="">ListQueuesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsreceivelpmessage-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/receivelpmessage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsreceivelpmessage"><span class="">ReceiveLPMessagev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqsreceivemessage-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/receivemessage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqsreceivemessage"><span class="">ReceiveMessagev2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplessqssendmessage-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sqs/sendmessage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessqssendmessage"><span class="">SendMessagev2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-exampleskms-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/kms/" title="AWS KMS Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampleskms"><span class="">AWS KMS</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampleskmscreatekey-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/kms/createkey/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampleskmscreatekey"><span class="">CreateKeyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampleskmsdecryptdata-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/kms/decryptdata/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampleskmsdecryptdata"><span class="">DecryptDatav2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampleskmsencryptdata-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/kms/encryptdata/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampleskmsencryptdata"><span class="">EncryptDatav2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-exampleskmsreencryptdata-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/kms/reencryptdata/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-exampleskmsreencryptdata"><span class="">ReEncryptDatav2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplessts-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sts/" title="AWS STS Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplessts"><span class="">AWS STS</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesstsassumerole-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/sts/assumerole/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesstsassumerole"><span class="">AssumeRolev2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplesssm-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ssm/" title="AWS Systems Manager Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesssm"><span class="">AWS Systems Manager</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesssmdeleteparameter-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ssm/deleteparameter/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesssmdeleteparameter"><span class="">DeleteParameterv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesssmgetparameter-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ssm/getparameter/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesssmgetparameter"><span class="">GetParameterv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesssmputparameter-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/ssm/putparameter/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesssmputparameter"><span class="">PutParameterv2</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-aws-sdk-go-v2docscode-examplesiam-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/" title="IAM Examples" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiam"><span class="">IAM</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamaccesskeylastused-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/accesskeylastused/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamaccesskeylastused"><span class="">AccessKeyLastUsedv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamattachuserpolicy-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/attachuserpolicy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamattachuserpolicy"><span class="">AttachUserPolicyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamcreateaccesskey-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/createaccesskey/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamcreateaccesskey"><span class="">CreateAccessKeyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamcreateaccountalias-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/createaccountalias/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamcreateaccountalias"><span class="">CreateAccountAliasv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamcreatepolicy-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/createpolicy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamcreatepolicy"><span class="">CreatePolicyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamcreateuser-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/createuser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamcreateuser"><span class="">CreateUserv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamdeleteaccesskey-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/deleteaccesskey/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamdeleteaccesskey"><span class="">DeleteAccessKeyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamdeleteaccountalias-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/deleteaccountalias/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamdeleteaccountalias"><span class="">DeleteAccountAliasv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamdeleteservercert-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/deleteservercert/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamdeleteservercert"><span class="">DeleteServerCertv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamdeleteuser-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/deleteuser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamdeleteuser"><span class="">DeleteUserv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamdetachuserpolicy-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/detachuserpolicy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamdetachuserpolicy"><span class="">DetachUserPolicyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamgetpolicy-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/getpolicy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamgetpolicy"><span class="">GetPolicyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamgetservercert-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/getservercert/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamgetservercert"><span class="">GetServerCertv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamlistaccesskeys-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/listaccesskeys/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamlistaccesskeys"><span class="">ListAccessKeysv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamlistaccountaliases-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/listaccountaliases/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamlistaccountaliases"><span class="">ListAccountAliasesv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamlistadmins-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/listadmins/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamlistadmins"><span class="">ListAdminsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamlistservercerts-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/listservercerts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamlistservercerts"><span class="">ListServerCertsv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamlistusers-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/listusers/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamlistusers"><span class="">ListUsersv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamupdateaccesskey-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/updateaccesskey/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamupdateaccesskey"><span class="">UpdateAccessKeyv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamupdateservercert-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/updateservercert/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamupdateservercert"><span class="">UpdateServerCertv2</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-aws-sdk-go-v2docscode-examplesiamupdateuser-li">
  <a href="/aws-sdk-go-v2/docs/code-examples/iam/updateuser/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-aws-sdk-go-v2docscode-examplesiamupdateuser"><span class="">UpdateUserv2</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">
<a href="https://github.com/aws/aws-sdk-go-v2/tree/documentation/content/en/docs/migrating/_index.md" class="td-page-meta--view" target="_blank" rel="noopener"><i class="fa fa-file-alt fa-fw"></i> View page source</a>
  <a href="https://github.com/aws/aws-sdk-go-v2/edit/documentation/content/en/docs/migrating/_index.md" class="td-page-meta--edit" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
  <a href="https://github.com/aws/aws-sdk-go-v2/new/documentation/content/en/docs/migrating/_index.md?filename=change-me.md&amp;value=---%0Atitle%3A&#43;%22Long&#43;Page&#43;Title%22%0AlinkTitle%3A&#43;%22Short&#43;Nav&#43;Title%22%0Aweight%3A&#43;100%0Adescription%3A&#43;%3E-%0A&#43;&#43;&#43;&#43;&#43;Page&#43;description&#43;for&#43;heading&#43;and&#43;indexes.%0A---%0A%0A%23%23&#43;Heading%0A%0AEdit&#43;this&#43;template&#43;to&#43;create&#43;your&#43;new&#43;page.%0A%0A%2A&#43;Give&#43;it&#43;a&#43;good&#43;name%2C&#43;ending&#43;in&#43;%60.md%60&#43;-&#43;e.g.&#43;%60getting-started.md%60%0A%2A&#43;Edit&#43;the&#43;%22front&#43;matter%22&#43;section&#43;at&#43;the&#43;top&#43;of&#43;the&#43;page&#43;%28weight&#43;controls&#43;how&#43;its&#43;ordered&#43;amongst&#43;other&#43;pages&#43;in&#43;the&#43;same&#43;directory%3B&#43;lowest&#43;number&#43;first%29.%0A%2A&#43;Add&#43;a&#43;good&#43;commit&#43;message&#43;at&#43;the&#43;bottom&#43;of&#43;the&#43;page&#43;%28%3C80&#43;characters%3B&#43;use&#43;the&#43;extended&#43;description&#43;field&#43;for&#43;more&#43;detail%29.%0A%2A&#43;Create&#43;a&#43;new&#43;branch&#43;so&#43;you&#43;can&#43;preview&#43;your&#43;new&#43;file&#43;and&#43;request&#43;a&#43;review&#43;via&#43;Pull&#43;Request.%0A" class="td-page-meta--child" target="_blank" rel="noopener"><i class="fa fa-edit fa-fw"></i> Create child page</a>
  <a href="https://github.com/aws/aws-sdk-go-v2/issues/new?title=Migrating%20to%20the%20AWS%20SDK%20for%20Go%20V2" class="td-page-meta--issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create documentation issue</a>
  <a href="https://github.com/aws/aws-sdk-go-v2/issues/new" class="td-page-meta--project-issue" target="_blank" rel="noopener"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
  
</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#minimum-go-version">Minimum Go Version</a></li>
        <li><a href="#modularization">Modularization</a></li>
        <li><a href="#configuration-loading">Configuration Loading</a>
          <ul>
            <li></li>
          </ul>
        </li>
        <li><a href="#credentials--credential-providers">Credentials &amp; Credential Providers</a>
          <ul>
            <li><a href="#static-credentials">Static Credentials</a></li>
            <li><a href="#amazon-ec2-iam-role-credentials">Amazon EC2 IAM Role Credentials</a></li>
            <li><a href="#endpoint-credentials">Endpoint Credentials</a></li>
            <li><a href="#process-credentials">Process Credentials</a></li>
            <li><a href="#aws-security-token-service-credentials">AWS Security Token Service Credentials</a></li>
          </ul>
        </li>
        <li><a href="#service-clients">Service Clients</a>
          <ul>
            <li><a href="#client-construction">Client Construction</a></li>
            <li><a href="#endpoints">Endpoints</a></li>
            <li><a href="#invoking-api-operations">Invoking API Operations</a></li>
            <li><a href="#service-data-types">Service Data Types</a></li>
            <li><a href="#pointer-parameters">Pointer Parameters</a></li>
            <li><a href="#errors-types">Errors Types</a></li>
            <li><a href="#paginators">Paginators</a></li>
            <li><a href="#waiters">Waiters</a></li>
          </ul>
        </li>
        <li><a href="#features">Features</a>
          <ul>
            <li><a href="#amazon-ec2-instance-metadata-service">Amazon EC2 Instance Metadata Service</a></li>
            <li><a href="#amazon-s3-transfer-manager">Amazon S3 Transfer Manager</a></li>
            <li><a href="#amazon-cloudfront-signing-utilities">Amazon CloudFront Signing Utilities</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="https://aws.github.io/aws-sdk-go-v2/docs/">Developer Guide</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="https://aws.github.io/aws-sdk-go-v2/docs/migrating/" aria-disabled="true" class="btn-link disabled">Migrating</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>Migrating to the AWS SDK for Go V2</h1>
  <div class="lead">How to migrate to the AWS SDK for Go V2 from AWS SDK for Go V1.</div>
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>
	<h2 id="minimum-go-version">Minimum Go Version</h2>
<p>The AWS SDK for Go V2 requires a minimum version of Go 1.15. Migration from AWS SDK for Go to AWS SDK for Go V2
might require you to upgrade your application by one or more Go versions. The latest version of Go can be downloaded on
the <a href="https://golang.org/dl/">Downloads</a> page. See the <a href="https://golang.org/doc/devel/release.html">Release History</a> for
more information about each Go version release, and relevant information required for upgrading.</p>
<h2 id="modularization">Modularization</h2>
<p>The AWS SDK for Go V2 has been updated to take advantage of the Go modules which became the default development mode
in Go 1.13. A number of packages provided by the SDK have been modularized and are independently versioned and
released respectively. This change enables improved application dependency modeling, and enables the SDK to
provide new features and functionality that follows the Go module versioning strategy.</p>
<p>The following list are some Go modules provided by the SDK:</p>
<table>
<thead>
<tr>
<th>Module</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2</code></td>
<td>The SDK core</td>
</tr>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2/config</code></td>
<td>Shared Configuration Loading</td>
</tr>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2/credentials</code></td>
<td>AWS Credential Providers</td>
</tr>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2/feature/ec2/imds</code></td>
<td>Amazon EC2 Instance Metadata Service Client</td>
</tr>
</tbody>
</table>
<p>The SDK&rsquo;s service clients and higher level utilities modules are nested under the following import paths:</p>
<table>
<thead>
<tr>
<th>Import Root</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2/service/</code></td>
<td>Service Client Modules</td>
</tr>
<tr>
<td><code>github.com/aws/aws-sdk-go-v2/feature/</code></td>
<td>High-Level utilities for services, for example the Amazon S3 Transfer Manager</td>
</tr>
</tbody>
</table>
<h2 id="configuration-loading">Configuration Loading</h2>
<p>The <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session">session</a> package and associated functionality are replaced with a simplified
configuration system provided by the <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/config">config</a> package. The <code>config</code> package is a separate Go
module, and can be included in your applications dependencies by with <code>go get</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go get github.com/aws/aws-sdk-go-v2/config
</span></span></code></pre></div><p>The <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session#New">session.New</a>, <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session#NewSession">session.NewSession</a>,
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session#NewSessionWithOptions">NewSessionWithOptions</a>, and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/session#Must">session.Must</a> must be migrated to
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/config#LoadDefaultConfig">config.LoadDefaultConfig</a>.</p>
<p>The <code>config</code> package provides several helper functions that aid in overriding the shared configuration loading
programmatically. These function names are prefixed with <code>With</code> followed by option that they override. Let&rsquo;s look at
some examples of how to migrate usage of the <code>session</code> package.</p>
<p>For more information on loading shared configuration
see <a href="https://aws.github.io/aws-sdk-go-v2/docs/configuring-sdk/">Configuring the AWS SDK for Go V2</a>.</p>
<h4 id="examples">Examples</h4>
<h5 id="migrating-from-newsession-to-loaddefaultconfig">Migrating from NewSession to LoadDefaultConfig</h5>
<p>The following example shows how usage of <code>session.NewSession</code> without additional argument parameters is migrated to
<code>config.LoadDefaultConfig</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1 using NewSession
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">session</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewSession</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2 using LoadDefaultConfig
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">LoadDefaultConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="migrating-from-newsession-with-awsconfig-options">Migrating from NewSession with aws.Config options</h5>
<p>The example shows how to migrate overriding of <code>aws.Config</code> values during configuration loading. One or more
<code>config.With*</code> helper functions can be provided to <code>config.LoadDefaultConfig</code> to override the loaded configuration
values. In this example the AWS Region is overridden to <code>us-west-2</code> using the
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/config#WithRegion">config.WithRegion</a> helper function.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">session</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewSession</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Config</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Region</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">String</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;us-west-2&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">LoadDefaultConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithRegion</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;us-west-2&#34;</span><span style="color:#000;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h5 id="migrating-from-newsessionwithoptions">Migrating from NewSessionWithOptions</h5>
<p>This example shows how to migrate overriding values during configuration loading. Zero or more
<code>config.With*</code> helper functions can be provided to <code>config.LoadDefaultConfig</code> to override the loaded configuration
values. In this example we show how to override the target profile that is used when loading the AWS SDK shared
configuration.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">session</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewSessionWithOptions</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Config</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Profile</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;my-application-profile&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">LoadDefaultConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">WithSharedConfigProfile</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;my-application-profile&#34;</span><span style="color:#000;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="credentials--credential-providers">Credentials &amp; Credential Providers</h2>
<p>The <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials">aws/credentials</a> package and associated credential providers have been
relocated to the <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials">credentials</a> package location. The <code>credentials</code> package is a Go module that
you retrieve by using <code>go get</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go get github.com/aws/aws-sdk-go-v2/credentials
</span></span></code></pre></div><p>The AWS SDK for Go V2 release updates the AWS Credential Providers to provide a consistent interface for retrieving
AWS Credentials. Each provider implements the <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#CredentialsProvider">aws.CredentialsProvider</a>
interface, which defines a <code>Retrieve</code> method that returns a <code>(aws.Credentials, error)</code>.
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#Credentials">aws.Credentials</a> that is analogous to the AWS SDK for Go
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials#Value">credentials.Value</a> type.</p>
<p>You must wrap <code>aws.CredentialsProvider</code> objects with <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#CredentialsCache">aws.CredentialsCache</a> to
allow credential caching to occur. You use <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#NewCredentialsCache">NewCredentialsCache</a> to
construct a <code>aws.CredentialsCache</code> object. By default, credentials configured by <code>config.LoadDefaultConfig</code> are wrapped
with <code>aws.CredentialsCache</code>.</p>
<p>The following table list the location changes of the AWS credential providers from AWS SDK for Go V1 to
AWS SDK for Go V2.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>V1 Import</th>
<th>V2 Import</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon EC2 IAM Role Credentials</td>
<td><code>github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/credentials/ec2rolecreds</code></td>
</tr>
<tr>
<td>Endpoint Credentials</td>
<td><code>github.com/aws/aws-sdk-go/aws/credentials/endpointcreds</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/credentials/endpointcreds</code></td>
</tr>
<tr>
<td>Process Credentials</td>
<td><code>github.com/aws/aws-sdk-go/aws/credentials/processcreds</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/credentials/processcreds</code></td>
</tr>
<tr>
<td>AWS Security Token Service</td>
<td><code>github.com/aws/aws-sdk-go/aws/credentials/stscreds</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/credentials/stscreds</code></td>
</tr>
</tbody>
</table>
<h3 id="static-credentials">Static Credentials</h3>
<p>Applications that use <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials#NewStaticCredentials">credentials.NewStaticCredentials</a> to
construct static credential programmatically must use
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials#NewStaticCredentialsProvider">credentials.NewStaticCredentialsProvider</a>.</p>
<h4 id="example">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/credentials&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">credentials</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewStaticCredentials</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">accessKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">secretKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">sessionToken</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Get</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/credentials&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentialsCache</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">credentials</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewStaticCredentialsProvider</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">accessKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">secretKey</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">sessionToken</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Retrieve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="amazon-ec2-iam-role-credentials">Amazon EC2 IAM Role Credentials</h3>
<p>You must migrate usage of <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/ec2rolecreds#NewCredentials">NewCredentials</a> and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/ec2rolecreds#NewCredentialsWithClient">NewCredentialsWithClient</a> to use
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/ec2rolecreds#New">New</a>.</p>
<p>The <code>ec2rolecreds</code> package&rsquo;s <code>ec2rolecreds.New</code> takes functional options of
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/ec2rolecreds#Options">ec2rolecreds.Options</a> as
input, allowing you override the specific Amazon EC2 Instance
Metadata Service client to use, or to override the credential expiry window.</p>
<h4 id="example-1">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/credentials/ec2rolecreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">ec2rolecreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentials</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Get</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/credentials/ec2rolecreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// New returns an object of a type that satisfies the aws.CredentialProvider interface
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentialsCache</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">ec2rolecreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Retrieve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="endpoint-credentials">Endpoint Credentials</h3>
<p>You must migrate usage of <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/endpointcreds#NewCredentialsClient">NewCredentialsClient</a>
and <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/endpointcreds#NewProviderClient">NewProviderClient</a> to use
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/endpointcreds#New">New</a>.</p>
<p>The <code>endpointcreds</code> package&rsquo;s <code>New</code> function takes a string argument containing the
URL of an HTTP or HTTPS endpoint to retrieve credentials from, and functional
options of <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/endpointcreds#Options">endpointcreds.Options</a> to mutate the credentials provider and
override specific configuration settings.</p>
<h3 id="process-credentials">Process Credentials</h3>
<p>You must migrate usage of <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/processcreds#NewCredentials">NewCredentials</a>,
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/processcreds#NewCredentialsCommand">NewCredentialsCommand</a>, and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/processcreds#NewCredentialsTimeout">NewCredentialsTimeout</a> to use
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/processcreds#New">NewProvider</a> or
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/processcreds#NewProviderCommand">NewProviderCommand</a>.</p>
<p>The <code>processcreds</code> package&rsquo;s <code>NewProvider</code> function takes a string argument that is the
command to be executed in the host environment&rsquo;s shell, and functional options
of <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/processcreds#Options">Options</a> to mutate the
credentials provider and override specific configuration settings.</p>
<p><code>NewProviderCommand</code> takes an implementation of the
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/processcreds#NewCommandBuilder">NewCommandBuilder</a> interface that defines
more complex process commands that might take one or more command-line arguments, or have certain execution environment
requirements. <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/processcreds#DefaultNewCommandBuilder">DefaultNewCommandBuilder</a> implements
this interface, and defines a command builder for a process that requires multiple command-line arguments.</p>
<h4 id="example-2">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/credentials/processcreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">processcreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentials</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;/path/to/command&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Get</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/credentials/processcreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentialsCache</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">processcreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewProvider</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;/path/to/command&#34;</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Retrieve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="aws-security-token-service-credentials">AWS Security Token Service Credentials</h3>
<h4 id="assumerole">AssumeRole</h4>
<p>You must migrate usage of <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/stscreds#NewCredentials">NewCredentials</a>, and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/stscreds#NewCredentialsWithClient">NewCredentialsWithClient</a> to
use <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#NewAssumeRoleProvider">NewAssumeRoleProvider</a>.</p>
<p>The <code>stscreds</code> package&rsquo;s <code>NewAssumeRoleProvider</code> function must be called with
a <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/sts#Client">sts.Client</a>, and the AWS Identity and Access Management Role ARN to be assumed from the provided <code>sts.Client</code>&rsquo;s
configured credentials. You can also provide a set of functional options of
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#AssumeRoleOptions">AssumeRoleOptions</a> to
modify other optional settings of the provider.</p>
<h5 id="example-3">Example</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/credentials/stscreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentials</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;arn:aws:iam::123456789012:role/demo&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Get</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/credentials/stscreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">sts</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewAssumeRoleProvider</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">client</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;arn:aws:iam::123456789012:role/demo&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Retrieve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h4 id="assumerolewithwebidentity">AssumeRoleWithWebIdentity</h4>
<p>You must migrate usage of
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/stscreds#NewWebIdentityCredentials">NewWebIdentityCredentials</a>,
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/stscreds#NewWebIdentityRoleProvider">NewWebIdentityRoleProvider</a>, and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/credentials/stscreds#NewWebIdentityRoleProviderWithToken">NewWebIdentityRoleProviderWithToken</a>
to use <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#NewWebIdentityRoleProvider">NewWebIdentityRoleProvider</a>.</p>
<p>The <code>stscreds</code> package&rsquo;s <code>NewWebIdentityRoleProvider</code> function must be called with a <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/sts#Client">sts.Client</a>, and the
AWS Identity and Access Management Role ARN to be assumed using the provided <code>sts.Client</code>&rsquo;s configured credentials, and an
implementation of a <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#IdentityTokenRetriever">IdentityTokenRetriever</a> for
providing the OAuth 2.0 or OpenID Connect ID token.
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#IdentityTokenFile">IdentityTokenFile</a> is an <code>IdentityTokenRetriever</code> that can
be used to provide the web identity token from a file located on the application&rsquo;s host file-system.
You can also provide a set of functional options of
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/credentials/stscreds#WebIdentityRoleOptions">WebIdentityRoleOptions</a> to modify other optional
settings for the provider.</p>
<h5 id="example-4">Example</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/credentials/stscreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewWebIdentityRoleProvider</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;arn:aws:iam::123456789012:role/demo&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;sessionName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;/path/to/token&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Get</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/credentials/stscreds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">sts</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">appCreds</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewCredentialsCache</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewWebIdentityRoleProvider</span><span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">client</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>		<span style="color:#4e9a06">&#34;arn:aws:iam::123456789012:role/demo&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">IdentityTokenFile</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;/path/to/file&#34;</span><span style="color:#000;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">func</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">o</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">stscreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">WebIdentityRoleOptions</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#000">o</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">RoleSessionName</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;sessionName&#34;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">}))</span>
</span></span><span style="display:flex;"><span><span style="color:#000">value</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">appCreds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Retrieve</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="service-clients">Service Clients</h2>
<p>AWS SDK for Go V2 provides service client modules nested under the <code>github.com/aws/aws-sdk-go-v2/service</code> import path.
Each service client is contained in a Go package using each service&rsquo;s unique identifier. The following table provides
some examples of service import paths in the AWS SDK for Go V2.</p>
<table>
<thead>
<tr>
<th>Service Name</th>
<th>V1 Import Path</th>
<th>V2 Import Path</th>
</tr>
</thead>
<tbody>
<tr>
<td>Amazon S3</td>
<td><code>github.com/aws/aws-sdk-go/service/s3</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/service/s3</code></td>
</tr>
<tr>
<td>Amazon DynamoDB</td>
<td><code>github.com/aws/aws-sdk-go/service/dynamodb</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/service/dynamodb</code></td>
</tr>
<tr>
<td>Amazon CloudWatch Logs</td>
<td><code>github.com/aws/aws-sdk-go/service/cloudwatchlogs</code></td>
<td><code>github.com/aws/aws-sdk-go-v2/service/cloudwatchlogs</code></td>
</tr>
</tbody>
</table>
<p>Each service client package is an independently versioned Go module. To add the service client as a dependency of your
application, use the <code>go get</code> command with the service&rsquo;s import path. For example, to add the Amazon S3
client to your dependencies use</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go get github.com/aws/aws-sdk-go-v2/service/s3
</span></span></code></pre></div><h3 id="client-construction">Client Construction</h3>
<p>You can construct clients in the AWS SDK for Go V2 using either the <code>New</code> or <code>NewFromConfig</code> constructor functions in the client&rsquo;s package.
When migrating from the AWS SDK for Go we recommend that you use the <code>NewFromConfig</code> variant, which will return a new
service client using values from an <code>aws.Config</code>. The <code>aws.Config</code> value will have been created while loading the SDK shared configuration using
<code>config.LoadDefaultConfig</code>. For details on creating service clients see
<a href="https://aws.github.io/aws-sdk-go-v2/docs/making-requests/">Using AWS Services</a>.</p>
<h5 id="example-1-1">Example 1</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">session</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewSession</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">LoadDefaultConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h5 id="example-2-overriding-client-settings">Example 2: Overriding Client Settings</h5>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/session&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">session</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewSession</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Config</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">Region</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000">aws</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">String</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;us-west-2&#34;</span><span style="color:#000;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">})</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/config&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">config</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">LoadDefaultConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">func</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">o</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Options</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">o</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Region</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;us-west-2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">})</span>
</span></span></code></pre></div><h3 id="endpoints">Endpoints</h3>
<p>The <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/endpoints">endpoints</a> package no longer exists in the AWS SDK for Go V2. Each service
client now embeds its required AWS endpoint metadata within the client package. This reduces the overall binary size of
compiled applications by no longer including endpoint metadata for services not used by your application.</p>
<p>By default, service clients use their configured AWS Region to resolve the service endpoint for the target Region. If
your application requires a custom endpoint to be specified for a particular service and region, you can specify
a custom <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#EndpointResolver">aws.EndpointResolver</a> using the <code>EndpointResolver</code> field on the
<code>aws.Config</code> structure. If your application implements a custom
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/endpoints#Resolver">endpoints.Resolver</a> you must migrate it to conform to the
<code>aws.EndpointResolver</code> interface. <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#EndpointResolverFunc">aws.EndpointResolverFunc</a> is provided as
a convenient way to wrap a resolver function to satisfy the <code>aws.EndpointResolver</code> interface.</p>
<p>For more information on endpoints and implementing a custom resolver, see
<a href="https://aws.github.io/aws-sdk-go-v2/docs/configuring-sdk/endpoints/">Configuring Client Endpoints</a>.</p>
<h3 id="invoking-api-operations">Invoking API Operations</h3>
<p>The number of service client operation methods have been reduced significantly. The <code>&lt;OperationName&gt;Request</code>,
<code>&lt;OperationName&gt;WithContext</code>, and <code>&lt;OperationName&gt;</code> methods have all been consolidated into single operation method, <code>&lt;OperationName&gt;</code>.</p>
<h4 id="example-5">Example</h4>
<p>The following example shows how calls to the &lt;nil&gt; PutObject operation would be migrated from
AWS SDK for Go to AWS SDK for Go V2.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Pattern 1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Pattern 2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectWithContext</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// Pattern 3
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">req</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">output</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectRequest</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">req</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Send</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">PutObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span></code></pre></div><h3 id="service-data-types">Service Data Types</h3>
<p>The top-level input and output types of an operation are found in the service client package. The input and output type
for a given operation follow the pattern of <code>&lt;OperationName&gt;Input</code> and <code>&lt;OperationName&gt;Output</code>, where <code>OperationName</code>
is the name of the operation you are invoking. For example the input and output shape for the
Amazon S3 PutObject operation are <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#PutObjectInput">PutObjectInput</a> and
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#PutObjectOutput">PutObjectOutput</a> respectively.</p>
<p>All other service data types, other than input and output types, have been migrated to the <code>types</code> package located
under the service client package import path hierarchy. For example, the
<a href="https://docs.aws.amazon.com/sdk-for-go/api/service/s3#AccessControlPolicy">s3.AccessControlPolicy</a> type is now located at
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3/types#AccessControlPolicy">types.AccessControlPolicy</a>.</p>
<h4 id="enumeration-values">Enumeration Values</h4>
<p>The SDK now provides a typed experience for all API enumeration fields. Rather than using a string literal value copied
from the service API reference documentation, you can now use one of the concrete types found in the service client&rsquo;s
<code>types</code> package. For example, you can provide the Amazon S3 PutObjectInput operation
with an ACL to be applied on an object. In the AWS SDK for Go V1, this parameter was a <code>*string</code> type. In the
{{&amp; alias sdk-go %}} this parameter is now a
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3/types#ObjectCannedACL">types.ObjectCannedACL</a>. The <code>types</code> package
provides generated constants for the valid enumeration values that can be assigned to this field. For example
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3/types#ObjectCannedACLPrivate">types.ObjectCannedACLPrivate</a> is the constant for the
&ldquo;private&rdquo; canned ACL value. This value can be used in place of managing string constants within your application.</p>
<h3 id="pointer-parameters">Pointer Parameters</h3>
<p>The AWS SDK for Go v1 required pointer references to be passed for all input parameters to service operations. The
AWS SDK for Go V2 has simplified the experience with most services by removing the need to pass input values as
pointers where possible. This change means that many service clients operations no longer require your application
to pass pointer references for the following types: <code>uint8</code>, <code>uint16</code>, <code>uint32</code>, <code>int8</code>, <code>int16</code>, <code>int32</code>, <code>float32</code>,
<code>float64</code>, <code>bool</code>. Similarly, slice and map element types have been updated accordingly to reflect whether their
elements must be passed as pointer references.</p>
<p>The <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws">aws</a> package contains helper functions for creating pointers for the Go built-in types, these
helpers should be used to more easily handle creating pointer types for these Go types. Similarly, helper methods are
provided for safely de-referencing pointer values for these types. For example, the
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#String">aws.String</a> function converts from <code>string</code> ⇒ <code>*string</code>. Inversely,
the <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/aws#ToString">aws.ToString</a> converts from <code>*string</code> ⇒ <code>string</code>. When upgrading your
application from AWS SDK for Go V1 to AWS SDK for Go V2, you must migrate usage of the helpers for
converting from the pointer types to the non-pointer variants. For example,
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws#StringValue">aws.StringValue</a> must be updated to <code>aws.ToString</code>.</p>
<h3 id="errors-types">Errors Types</h3>
<p>The AWS SDK for Go V2 takes full advantage of the error wrapping functionality
<a href="https://blog.golang.org/go1.13-errors">introduced in Go 1.13</a>. Services that model error responses have generated
types available in their client&rsquo;s <code>types</code> package that can be used to test whether a client operation error was caused
by one of these types. For example Amazon S3 <code>GetObject</code> operation can return a <code>NoSuchKey</code> error if
attempting to retrieve an object key that doesn&rsquo;t exist. You can use <a href="https://golang.org/pkg/errors#As">errors.As</a> to
test whether the returned operation error is a <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3/types#NoSuchKey">types.NoSuchKey</a> error.
In the event a service does not model a specific type for an error, you can utilize the
<a href="https://pkg.go.dev/github.com/aws/smithy-go/#APIError">smithy.APIError</a> interface type for inspecting the returned error code and message
from the service. This functionality replaces <a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/awserr#Error">awserr.Error</a> and the other
<a href="https://docs.aws.amazon.com/sdk-for-go/api/aws/awserr">awserr</a> functionality from the AWS SDK for Go V1. For more details information on
handling errors see <a href="https://aws.github.io/aws-sdk-go-v2/docs/handling-errors/">Handling Errors</a>.</p>
<h4 id="example-6">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/awserr&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">GetObject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">GetObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">awsErr</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">ok</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">err</span><span style="color:#000;font-weight:bold">.(</span><span style="color:#000">awserr</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Error</span><span style="color:#000;font-weight:bold">);</span> <span style="color:#000">ok</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">awsErr</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Code</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#4e9a06">&#34;NoSuchKey&#34;</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// handle NoSuchKey
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000;font-weight:bold">}</span> <span style="color:#204a87;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>			<span style="color:#8f5902;font-style:italic">// handle other codes
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>		<span style="color:#204a87;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle a error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3/types&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/smithy-go&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">GetObject</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">(),</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">GetObjectInput</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">nsk</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">types</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NoSuchKey</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">errors</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">As</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">err</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">nsk</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// handle NoSuchKey error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#204a87;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">apiErr</span> <span style="color:#000">smithy</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">APIError</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">errors</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">As</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">err</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">apiErr</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">code</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">apiErr</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ErrorCode</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>		<span style="color:#000">message</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">apiErr</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ErrorMessage</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// handle error code
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#204a87;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="paginators">Paginators</h3>
<p>Service operation paginators are no longer invoked as methods on the service client. To use a paginator for an operation
you must construct a paginator for an operation using one of the paginator constructor methods. For example,
to use paginate over the Amazon S3 <code>ListObjectsV2</code> operation you must construct its paginator using the
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#NewListObjectsV2Paginator">s3.NewListObjectsV2Paginator</a>. This constructor returns a
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#ListObjectsV2Paginator">ListObjectsV2Paginator</a> which provides the methods <code>HasMorePages</code>,
and <code>NextPage</code> for determining whether there are more pages to retrieve and invoking the operation to retrieve the next
page respectively. More details on using the SDK paginators can be found at
<a href="https://aws.github.io/aws-sdk-go-v2/docs/making-requests/#using-paginators"></a>.</p>
<p>Let&rsquo;s look at an example of how to migrate from a AWS SDK for Go paginator to the AWS SDK for Go V2 equivalent.</p>
<h4 id="example-7">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">params</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ListObjectsV2Input</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">totalObjects</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ListObjectsV2Pages</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">params</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#204a87;font-weight:bold">func</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">output</span> <span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ListObjectsV2Output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">lastPage</span> <span style="color:#204a87;font-weight:bold">bool</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#204a87;font-weight:bold">bool</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">totalObjects</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#204a87">len</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Contents</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">!</span><span style="color:#000">lastPage</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">})</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">fmt</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;total objects:&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">totalObjects</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;fmt&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/service/s3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">params</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ListObjectsV2Input</span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// input parameters
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">totalObjects</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#0000cf;font-weight:bold">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000">paginator</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">s3</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewListObjectsV2Paginator</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">client</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">params</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">paginator</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HasMorePages</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">output</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">paginator</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NextPage</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>		<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000">totalObjects</span> <span style="color:#ce5c00;font-weight:bold">+=</span> <span style="color:#204a87">len</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Contents</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">fmt</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Println</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;total objects:&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">totalObjects</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h3 id="waiters">Waiters</h3>
<p>Service operation waiters are no longer invoked as methods on the service client. To use a waiter you first construct
the desired waiter type, and then invoke the wait method. For example,
to wait for a Amazon S3 Bucket to exist, you must construct a <code>BucketExists</code> waiter. Use the
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#NewBucketExistsWaiter">s3.NewBucketExistsWaiter</a> constructor to create a
<a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/service/s3#BucketExistsWaiter">s3.BucketExistsWaiter</a>. The <code>s3.BucketExistsWaiter</code> provides a
<code>Wait</code> method which can be used to wait for a bucket to become available.</p>
<h2 id="features">Features</h2>
<h3 id="amazon-ec2-instance-metadata-service">Amazon EC2 Instance Metadata Service</h3>
<p>The AWS SDK for Go V2 provides an Amazon EC2 Instance Metadata Service (IMDS) client that you can use
to query the local IMDS when executing your application on an Amazon EC2 instance. The IMDS client is
a separate Go module that can be added to your application by using</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go get github.com/aws/aws-sdk-go-v2/feature/ec2/imds
</span></span></code></pre></div><p>The client constructor and method operations have been updated to match the design of the other SDK service clients.</p>
<h4 id="example-8">Example</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V1
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go/aws/ec2metadata&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">ec2metadata</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">New</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">sess</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">region</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Region</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// V2
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;context&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#4e9a06">&#34;github.com/aws/aws-sdk-go-v2/feature/ec2/imds&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000">client</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">imds</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NewFromConfig</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">cfg</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">region</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#000">client</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">GetRegion</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">TODO</span><span style="color:#000;font-weight:bold">())</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000">err</span> <span style="color:#ce5c00;font-weight:bold">!=</span> <span style="color:#204a87;font-weight:bold">nil</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>	<span style="color:#8f5902;font-style:italic">// handle error
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h3 id="amazon-s3-transfer-manager">Amazon S3 Transfer Manager</h3>
<p>The Amazon S3 transfer manager is available for managing uploads and downloads of objects
concurrently. This package is located in a Go module outside the service client import path. This module
can be retrieved by using <code>go get github.com/aws/aws-sdk-go-v2/feature/s3/manager</code>.</p>
<p><a href="https://docs.aws.amazon.com/sdk-for-go/api/service/s3/s3manager#NewUploader">s3.NewUploader</a> and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/service/s3/s3manager#NewUploaderWithClient">s3.NewUploaderWithClient</a> have been replaced with the
constructor method <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/feature/s3/manager#">manager.NewUploader</a> for creating an Upload manager client.</p>
<p><a href="https://docs.aws.amazon.com/sdk-for-go/api/service/s3/s3manager#NewDownloader">s3.NewDownloader</a> and
<a href="https://docs.aws.amazon.com/sdk-for-go/api/service/s3/s3manager#NewDownloaderWithClient">s3.NewDownloaderWithClient</a> have been replaced with a
single constructor method <a href="https://pkg.go.dev/github.com/aws/aws-sdk-go-v2/feature/s3/manager#NewDownloader">manager.NewDownloader</a> for creating a
Download manager client.</p>
<h3 id="amazon-cloudfront-signing-utilities">Amazon CloudFront Signing Utilities</h3>
<p>The AWS SDK for Go V2 provides Amazon CloudFront signing utilities in a Go module outside the service
client import path. This module can be retrieved by using <code>go get</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>go get github.com/aws/aws-sdk-go-v2/feature/cloudfront/sign
</span></span></code></pre></div>
        <div class="section-index">
    
    
    
    
    
    
    
    
    
</div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">
  Last modified May 16, 2022: <a href="https://github.com/aws/aws-sdk-go-v2/commit/875683b873aee61942bcde4bb0b8664960c31280">Fix typo in migration docs (#1709) (875683b873)</a>
</div>

</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Blog" aria-label="Blog">
    <a class="text-white" target="_blank" rel="noopener" href="https://aws.amazon.com/blogs/developer/category/developer-tools/aws-sdk-for-go/" aria-label="Blog">
      <i class="fa fa-rss"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/aws/aws-sdk-go-v2" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 Amazon Web Services, Inc. or its affiliates. All Rights Reserved</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>




















<script src="/aws-sdk-go-v2/js/main.min.91798a335c881f1b6b805085ba4aa22d1dbd2b0b18d105d05189fa104ddae350.js" integrity="sha256-kXmKM1yIHxtrgFCFukqiLR29KwsY0QXQUYn6EE3a41A=" crossorigin="anonymous"></script>




  </body>
</html>